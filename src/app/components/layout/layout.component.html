<div class="container">
  <mat-toolbar *ngIf="shouldDisplay()" color="primary">
    <button mat-icon-button (click)="sidenav.toggle()">
      <mat-icon>menu</mat-icon>
    </button>

    <h1>{{ title }}</h1>

    <button mat-button [matMenuTriggerFor]="userMenu">
      <mat-icon>account_circle</mat-icon>
      <span>
        {{ username }}
      </span>
    </button>
    <mat-menu #userMenu="matMenu" xPosition="before" yPosition="below">
      <mat-button color="warn" mat-menu-item (click)="openDialog()">
        <mat-icon>exit_to_app</mat-icon>
        <span>Sair</span>
      </mat-button>
    </mat-menu>
  </mat-toolbar>

  <mat-sidenav-container>
    <mat-sidenav
      *ngIf="shouldDisplay()"
      #sidenavRef="matSidenav"
      mode="side"
      opened
      fixedInViewport
      fixedTopGap="40"
    >
      <mat-nav-list>
        <a
          mat-list-item
          *ngFor="let item of menuCategories"
          [routerLink]="item.route"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="list-item-content">
            <mat-icon>{{ item.icon }}</mat-icon>
            <span>{{ item.title }}</span>
          </div>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="isDoctor() || isAdmin()">
        <a
          mat-list-item
          *ngFor="let item of doctorMenu"
          [routerLink]="item.route"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="list-item-content">
            <mat-icon>{{ item.icon }}</mat-icon>
            <span>{{ item.title }}</span>
          </div>
        </a>
      </mat-nav-list>
      <mat-nav-list *ngIf="isAdmin()">
        <a
          mat-list-item
          *ngFor="let item of adminMenu"
          [routerLink]="item.route"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <div class="list-item-content">
            <mat-icon>{{ item.icon }}</mat-icon>
            <span>{{ item.title }}</span>
          </div>
        </a>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
